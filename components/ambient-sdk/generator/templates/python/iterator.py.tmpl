# Code generated by ambient-sdk-generator from openapi.yaml â€” DO NOT EDIT.
# Source: {{.Header.SpecPath}}
# Spec SHA256: {{.Header.SpecHash}}
# Generated: {{.Header.Timestamp}}

from __future__ import annotations

from typing import Any, Callable, Iterator, TypeVar

T = TypeVar("T")


def paginate(fetch_page: Callable[..., Any], size: int = 100) -> Iterator[Any]:
    page = 1
    while True:
        result = fetch_page(page=page, size=size)
        yield from result.items
        if page * size >= result.total:
            break
        page += 1
